class OurMultipleSelect{constructor(e){if(this.id=e,this.elementTarget=document.getElementById(e),!this.elementTarget)throw new Error(`Elemento com ID "${e}" não encontrado.`);e=document.getElementById("oms-multiple-select#"+e);e&&e.remove(),this.init()}init(){this.elementTarget.classList.add("oms-multiple-select__target"),this.multipleSelect=document.createElement("div"),this.multipleSelect.classList.add("oms-multiple-select"),this.multipleSelect.setAttribute("id","oms-multiple-select#"+this.id),this.checkElementTargetAttributes(),this.multipleSelectHeader=document.createElement("div"),this.multipleSelectHeader.classList.add("oms-multiple-select__header"),this.multipleSelectDropdown=document.createElement("div"),this.multipleSelectDropdown.classList.add("oms-multiple-select__dropdown"),this.multipleSelect.append(this.multipleSelectHeader,this.multipleSelectDropdown),this.elementTarget.parentElement.insertBefore(this.multipleSelect,this.elementTarget.nextSibling),this.createOptions(),this.multipleSelectHeader.addEventListener("click",()=>{var e,t,l,o;"false"===this.multipleSelect.dataset.omsEnabled||(o=this.multipleSelect.offsetWidth,document.documentElement.style.setProperty("--oms-dropdown-width",o+"px"),document.documentElement.style.removeProperty("--oms-dropdown-height"),document.documentElement.style.removeProperty("--oms-dropdown-bottom"),o=document.documentElement.scrollHeight,this.multipleSelect.toggleAttribute("open"),l=this.multipleSelectDropdown.offsetHeight,e=o-(o=this.multipleSelectHeader.getBoundingClientRect()).bottom,o=o.top,l+(t=omsConvertRemToPixels(getComputedStyle(document.documentElement).getPropertyValue("--oms-gutter-0")))<=e)||(l<=o?(l=this.multipleSelectHeader.clientHeight+t,document.documentElement.style.setProperty("--oms-dropdown-bottom",l+"px")):(l=e<o,document.documentElement.style.setProperty("--oms-dropdown-height",(l?o:e)-2*t+"px"),l&&(o=this.multipleSelectHeader.clientHeight-t,document.documentElement.style.setProperty("--oms-dropdown-bottom",o+"px"))))}),document.addEventListener("click",e=>{this.multipleSelect.contains(e.target)||null===this.multipleSelect.getAttribute("open")||this.multipleSelect.removeAttribute("open")})}createOptions(){Array.from(this.elementTarget.options).forEach((e,t)=>{var l=document.createElement("div"),o=(l.classList.add("oms-option"),document.createElement("input")),i=(o.classList.add("oms-option-checkbox"),o.setAttribute("id","oms-option-"+t),o.setAttribute("type","checkbox"),o.setAttribute("value",e.value),document.createElement("label"));i.classList.add("oms-option-label"),i.setAttribute("for","oms-option-"+t),i.textContent=e.text,l.append(o,i),this.multipleSelectDropdown.append(l),l.addEventListener("change",()=>this.updateHeader())}),this.options=this.multipleSelect.querySelectorAll("[type=checkbox]")}updateHeader(){var e=Array.from(this.multipleSelect.querySelectorAll("[type=checkbox]:checked")).map(e=>e.nextElementSibling.textContent);this.multipleSelectHeader.innerHTML=3<=e.length?`<span>${e.length} selecionados(as)</span>`:`<span>${e.join(", ")}</span>`}getValues(){var e=Array.from(this.multipleSelect.querySelectorAll("[type=checkbox]:checked")).map(e=>e.value);return e.length?e:null}setValues(e){Array.isArray(e)&&(this.options.forEach(t=>{t.checked=e.some(e=>e==t.value)}),this.updateHeader())}clear(){this.setValues([])}enable(e){if("boolean"!=typeof e)throw new Error('O método "enable" espera um valor booleano.');e?(this.elementTarget.removeAttribute("disabled"),this.multipleSelect.removeAttribute("data-oms-enabled")):(this.elementTarget.setAttribute("disabled",""),this.multipleSelect.setAttribute("data-oms-enabled",!1))}checkElementTargetAttributes(){this.elementTarget.disabled&&(this.multipleSelect.dataset.omsEnabled=!1)}}function omsConvertRemToPixels(e){return parseFloat(e)*parseFloat(getComputedStyle(document.documentElement).fontSize)}let example=new OurMultipleSelect("example");